<html>
	<head>
		<title>
			Ultima Online File Format Document : C# (C Sharp)
		</title>
	</head><body bgcolor="#C8C8C8" text="black" link="black" vlink="black" alink="#404040">
		<span style="position:absolute;left:5;top:5;"><img border="0" src="../../images/background_x33.gif" width="102" height="662"></span><span style="position:absolute;left:6;top:6;"><a href="../../index.html" title="ModifyUO"><img border="0" name="linkToModifyUO" onMouseOver="document.linkToModifyUO.src='../../images/modifyuo_over.png'" onMouseOut="document.linkToModifyUO.src='../../images/modifyuo_regular.png'" src="../../images/modifyuo_regular.png" width="100" height="20"></a><br><a href="../../mapeditor.html" title="ModifyUO's Map Editor"><img border="0" name="linkToMapEditor" onMouseOver="document.linkToMapEditor.src='../../images/mapeditor_over.png'" onMouseOut="document.linkToMapEditor.src='../../images/mapeditor_regular.png'" src="../../images/mapeditor_regular.png" width="100" height="20"></a><br><img border="0" src="../../images/fileformats_header.png" width="100" height="20"><br><img border="0" src="../../images/indent_x28.gif" width="10" height="560"><br></span><span style="position:absolute;left:16;top:66;"><a href="../index.html" title="File Format Documentation"><img border="0" name="linkToFileFormatsMain" onMouseOver="document.linkToFileFormatsMain.src='../../images/main_over.png'" onMouseOut="document.linkToFileFormatsMain.src='../../images/main_regular.png'" src="../../images/main_regular.png" width="90" height="20"><br></a><img border="0" src="../../images/csharp_header.png" width="90" height="20"><br><img border="0" src="../../images/indent_x24.gif" width="10" height="480"></span><span style="position:absolute;left:26;top:106;"><a href="default.html" title="C# (C Sharp)"><img border="0" name="linkToFileFormatsLangcsharpMain" onMouseOver="document.linkToFileFormatsLangcsharpMain.src='../../images/main_x80_over.png'" onMouseOut="document.linkToFileFormatsLangcsharpMain.src='../../images/main_x80_regular.png'" src="../../images/main_x80_regular.png" width="80" height="20"></a><br><a href="index.html" title="Index"><img border="0" name="linkToFileFormatsFileindex" onMouseOver="document.linkToFileFormatsFileindex.src='../../images/index_over.png'" onMouseOut="document.linkToFileFormatsFileindex.src='../../images/index_regular.png'" src="../../images/index_regular.png" width="80" height="20"></a><br><a href="colors.html" title="Colors"><img border="0" name="linkToFileFormatsFilecolors" onMouseOver="document.linkToFileFormatsFilecolors.src='../../images/colors_over.png'" onMouseOut="document.linkToFileFormatsFilecolors.src='../../images/colors_regular.png'" src="../../images/colors_regular.png" width="80" height="20"></a><br><img border="0" src="../../images/animations_header.png" width="80" height="20"><br><a href="animdata.html" title="Animdata"><img border="0" name="linkToFileFormatsFileanimdata" onMouseOver="document.linkToFileFormatsFileanimdata.src='../../images/animdata_over.png'" onMouseOut="document.linkToFileFormatsFileanimdata.src='../../images/animdata_regular.png'" src="../../images/animdata_regular.png" width="80" height="20"></a><br><a href="art.html" title="Art"><img border="0" name="linkToFileFormatsFileart" onMouseOver="document.linkToFileFormatsFileart.src='../../images/art_over.png'" onMouseOut="document.linkToFileFormatsFileart.src='../../images/art_regular.png'" src="../../images/art_regular.png" width="80" height="20"></a><br><a href="fonts.html" title="Fonts"><img border="0" name="linkToFileFormatsFilefonts" onMouseOver="document.linkToFileFormatsFilefonts.src='../../images/fonts_over.png'" onMouseOut="document.linkToFileFormatsFilefonts.src='../../images/fonts_regular.png'" src="../../images/fonts_regular.png" width="80" height="20"></a><br><a href="gumps.html" title="Gumps"><img border="0" name="linkToFileFormatsFilegumps" onMouseOver="document.linkToFileFormatsFilegumps.src='../../images/gumps_over.png'" onMouseOut="document.linkToFileFormatsFilegumps.src='../../images/gumps_regular.png'" src="../../images/gumps_regular.png" width="80" height="20"></a><br><a href="lights.html" title="Lights"><img border="0" name="linkToFileFormatsFilelights" onMouseOver="document.linkToFileFormatsFilelights.src='../../images/lights_over.png'" onMouseOut="document.linkToFileFormatsFilelights.src='../../images/lights_regular.png'" src="../../images/lights_regular.png" width="80" height="20"></a><br><a href="maps.html" title="Maps"><img border="0" name="linkToFileFormatsFilemaps" onMouseOver="document.linkToFileFormatsFilemaps.src='../../images/maps_over.png'" onMouseOut="document.linkToFileFormatsFilemaps.src='../../images/maps_regular.png'" src="../../images/maps_regular.png" width="80" height="20"></a><br><a href="multimap.html" title="Multimap"><img border="0" name="linkToFileFormatsFilemultimap" onMouseOver="document.linkToFileFormatsFilemultimap.src='../../images/multimap_over.png'" onMouseOut="document.linkToFileFormatsFilemultimap.src='../../images/multimap_regular.png'" src="../../images/multimap_regular.png" width="80" height="20"></a><br><a href="multis.html" title="Multis"><img border="0" name="linkToFileFormatsFilemultis" onMouseOver="document.linkToFileFormatsFilemultis.src='../../images/multis_over.png'" onMouseOut="document.linkToFileFormatsFilemultis.src='../../images/multis_regular.png'" src="../../images/multis_regular.png" width="80" height="20"></a><br><a href="palette.html" title="Palette"><img border="0" name="linkToFileFormatsFilepalette" onMouseOver="document.linkToFileFormatsFilepalette.src='../../images/palette_over.png'" onMouseOut="document.linkToFileFormatsFilepalette.src='../../images/palette_regular.png'" src="../../images/palette_regular.png" width="80" height="20"></a><br><a href="radarcol.html" title="Radarcol"><img border="0" name="linkToFileFormatsFileradarcol" onMouseOver="document.linkToFileFormatsFileradarcol.src='../../images/radarcol_over.png'" onMouseOut="document.linkToFileFormatsFileradarcol.src='../../images/radarcol_regular.png'" src="../../images/radarcol_regular.png" width="80" height="20"></a><br><a href="sjis2uni.html" title="Sjis2uni"><img border="0" name="linkToFileFormatsFilesjis2uni" onMouseOver="document.linkToFileFormatsFilesjis2uni.src='../../images/sjis2uni_over.png'" onMouseOut="document.linkToFileFormatsFilesjis2uni.src='../../images/sjis2uni_regular.png'" src="../../images/sjis2uni_regular.png" width="80" height="20"></a><br><a href="skillgroups.html" title="Skillgroups"><img border="0" name="linkToFileFormatsFileskillgroups" onMouseOver="document.linkToFileFormatsFileskillgroups.src='../../images/skillgroups_over.png'" onMouseOut="document.linkToFileFormatsFileskillgroups.src='../../images/skillgroups_regular.png'" src="../../images/skillgroups_regular.png" width="80" height="20"></a><br><a href="skills.html" title="Skills"><img border="0" name="linkToFileFormatsFileskills" onMouseOver="document.linkToFileFormatsFileskills.src='../../images/skills_over.png'" onMouseOut="document.linkToFileFormatsFileskills.src='../../images/skills_regular.png'" src="../../images/skills_regular.png" width="80" height="20"></a><br><a href="sounds.html" title="Sounds"><img border="0" name="linkToFileFormatsFilesounds" onMouseOver="document.linkToFileFormatsFilesounds.src='../../images/sounds_over.png'" onMouseOut="document.linkToFileFormatsFilesounds.src='../../images/sounds_regular.png'" src="../../images/sounds_regular.png" width="80" height="20"></a><br><a href="speech.html" title="Speech"><img border="0" name="linkToFileFormatsFilespeech" onMouseOver="document.linkToFileFormatsFilespeech.src='../../images/speech_over.png'" onMouseOut="document.linkToFileFormatsFilespeech.src='../../images/speech_regular.png'" src="../../images/speech_regular.png" width="80" height="20"></a><br><a href="statics.html" title="Statics"><img border="0" name="linkToFileFormatsFilestatics" onMouseOver="document.linkToFileFormatsFilestatics.src='../../images/statics_over.png'" onMouseOut="document.linkToFileFormatsFilestatics.src='../../images/statics_regular.png'" src="../../images/statics_regular.png" width="80" height="20"></a><br><a href="textures.html" title="Textures"><img border="0" name="linkToFileFormatsFiletextures" onMouseOver="document.linkToFileFormatsFiletextures.src='../../images/textures_over.png'" onMouseOut="document.linkToFileFormatsFiletextures.src='../../images/textures_regular.png'" src="../../images/textures_regular.png" width="80" height="20"></a><br><a href="tiledata.html" title="Tiledata"><img border="0" name="linkToFileFormatsFiletiledata" onMouseOver="document.linkToFileFormatsFiletiledata.src='../../images/tiledata_over.png'" onMouseOut="document.linkToFileFormatsFiletiledata.src='../../images/tiledata_regular.png'" src="../../images/tiledata_regular.png" width="80" height="20"></a><br><a href="unifont.html" title="Unifont"><img border="0" name="linkToFileFormatsFileunifont" onMouseOver="document.linkToFileFormatsFileunifont.src='../../images/unifont_over.png'" onMouseOut="document.linkToFileFormatsFileunifont.src='../../images/unifont_regular.png'" src="../../images/unifont_regular.png" width="80" height="20"></a><br><a href="verdata.html" title="Verdata"><img border="0" name="linkToFileFormatsFileverdata" onMouseOver="document.linkToFileFormatsFileverdata.src='../../images/verdata_over.png'" onMouseOut="document.linkToFileFormatsFileverdata.src='../../images/verdata_regular.png'" src="../../images/verdata_regular.png" width="80" height="20"></a><br></span><span style="position:absolute;left:16;top:586;"><a href="../vbasic/default.html" title="Visual Basic .NET"><img border="0" name="linkTovbasic" onMouseOver="document.linkTovbasic.src='../../images/vbasic_over.png'" onMouseOut="document.linkTovbasic.src='../../images/vbasic_regular.png'" src="../../images/vbasic_regular.png" width="90" height="20"></a><br><a href="../vbasic6/default.html" title="Visual Basic 6"><img border="0" name="linkTovbasic6" onMouseOver="document.linkTovbasic6.src='../../images/vbasic6_over.png'" onMouseOut="document.linkTovbasic6.src='../../images/vbasic6_regular.png'" src="../../images/vbasic6_regular.png" width="90" height="20"></a><br></span><span style="position:absolute;left:6;top:626;"><a href="http://www.uoxdev.com/phpBB/viewforum.php?forum=11" title="Discuss ModifyUO"><img border="0" name="linkToForums" onMouseOver="document.linkToForums.src='../../images/forums_over.png'" onMouseOut="document.linkToForums.src='../../images/forums_regular.png'" src="../../images/forums_regular.png" width="100" height="20"></a><br><a href="mailto:krrios@uoxdev.com" title="E-Mail Krrios"><img border="0" name="linkToContact" onMouseOver="document.linkToContact.src='../../images/contact_over.png'" onMouseOut="document.linkToContact.src='../../images/contact_regular.png'" src="../../images/contact_regular.png" width="100" height="20"></a></span><span style="position:absolute;left:112;top:5;"><h2><a title="Anim.mul, Anim.idx">Animations</a></h2><p><b>Data File: </b>Anim.mul<br><b>Index File: </b>Anim.idx<br></p><font face="Courier New"><p><h4>Data:</h4>
		<font color="MediumBlue">short</font>[0x100] palette;<br><font color="MediumBlue">int</font> frameCount;<br><font color="MediumBlue">int</font>[frameCount] lookupTable;<br><i>Frame Data...</i></p></font>To find the data for a frame, seek to 0x200 + lookupTable[frame].<br><font face="Courier New"><p><h4>Frame Data:</h4>
		<font color="MediumBlue">short</font> centerX;<br><font color="MediumBlue">short</font> centerY;<br><font color="MediumBlue">short</font> width;<br><font color="MediumBlue">short</font> height;<br><i>Pixel Data...</i></p></font>Pixel data comes in chunks. If the current chunk header is 0x7FFF7FFF, the image is completed.<br><font face="Courier New"><p><h4>Chunks:</h4>
		<font color="MediumBlue">int</font> header;<br><font color="MediumBlue">byte</font>[XRun] palettePixels; <font color="DarkGreen">// See description below for XRun</font><br></p></font><font face="Courier New"><p><h4><a title="32-bits">Header Bit Masks</a>:</h4>
		<table border="1">
			<tr>
				<td>1F</td><td>1E</td><td>1D</td><td>1C</td><td>1B</td><td>1A</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>0F</td><td>0E</td><td>0D</td><td>0C</td><td>0B</td><td>0A</td><td>09</td><td>08</td><td>07</td><td>06</td><td>05</td><td>04</td><td>03</td><td>02</td><td>01</td><td>00</td>
			</tr><tr>
				<td colspan="10"><a title="Bitmask: 0xFFC00000">YOffset</a></td><td colspan="10"><a title="Bitmask: 0x3FF000">XOffset</a></td><td colspan="12"><a title="Bitmask: 0xFFF">XRun</a></td>
			</tr>
		</table></p></font>XOffset and YOffset are relative to centerX and centerY.<br>XRun indicates how many pixels are contained in this line.<br>XOffset and YOffset are signed, so we need to compensate for that:<br><font face="Courier New">XOffset = (XOffset ^ 0x200) - 0x200</font><br><font face="Courier New">YOffset = (YOffset ^ 0x200) - 0x200</font><br><br><b>See Also:</b><br>
		&nbsp;-&nbsp;<a href="colors.html" title="Colors">UO Color Format</a><br>&nbsp;-&nbsp;<a href="index.html" title="Index">Index Files</a><br></span><br><br>
	</body>
</html>